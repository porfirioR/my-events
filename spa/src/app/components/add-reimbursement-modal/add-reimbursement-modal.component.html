<dialog class="modal" role="none" id="reimbursementModal" #reimbursementModal>
  <main class="modal-box">
    <h3 class="font-bold text-lg">Add Reimbursement</h3>
    <form [formGroup]="formGroup" (ngSubmit)="onSubmit()">
      <app-text formControlName="amount" type="number" label="Reimbursement Amount" id="amount" name="amount" />
      <app-text-area-input formControlName="description" label="Description" id="description" name="description" />

      <div class="alert alert-info alert-soft">
        <i class="fas fa-info-circle"></i>
        <span>Transaction total: {{formatCurrency(modalData()?.maxAmount ?? 0, 1)}}</span>
      </div>
      
      <footer class="flex justify-between items-center pt-6 gap-4">
        <button
          type="button"
          class="btn btn-outline btn-primary flex items-center gap-2 transition-all duration-200 hover:scale-105"
          [disabled]="isSubmitting()"
          (click)="close()"
        >
          <i class="fas fa-arrow-left text-sm"></i>
          Cancel
        </button>
        @if (isSubmitting()) {
          <button
            type="button"
            class="btn btn-primary flex items-center gap-2 loading-btn"
          >
            <span class="loading loading-spinner loading-xs"></span>
            Saving...
          </button>
        } @else {
          <button
            type="submit"
            class="btn btn-primary flex items-center gap-2 transition-all duration-200 hover:scale-105"
            [disabled]="formGroup.invalid || isSubmitting()"
          >
            <i class="fas fa-cloud-arrow-up text-sm"></i>
            Save
          </button>
        }
      </footer>
    </form>
  </main>
</dialog>