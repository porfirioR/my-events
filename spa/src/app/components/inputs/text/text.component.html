<fieldset [ngClass]="(ngControl.control?.invalid && ngControl.control?.touched) || description ? 'mb-0': 'mb-6'">
  <label
    class="label cursor-pointer justify-start p-0 pb-2" 
    [for]="name"
  >
    <span class="label-text text-base-content font-medium text-sm transition-colors duration-200">
      {{label}}
    </span>
  </label>
  <input
    [id]="id"
    [name]="name"
    [attr.aria-label]="label"
    [placeholder]="placeholder || label"
    [type]="type"
    [title]="description"
    [autocomplete]="autocomplete || type === 'password' ? 'on': 'off'"
    [formControl]="$any(ngControl).control"
    class="input input-bordered w-full bg-base-100 text-base-content placeholder:text-base-content/50 
      transition-all duration-200 ease-in-out
      disabled:bg-base-200 disabled:text-base-content/50 disabled:cursor-not-allowed
      focus:outline-none focus:scale-[1.02]"
    [ngClass]="{
      'input-error border-error focus:border-error focus:ring-2 focus:ring-error/20 text-error': 
        ngControl.control?.invalid && ngControl.control?.touched,
      'input-success border-success focus:border-success focus:ring-2 focus:ring-success/20': 
        ngControl.control?.valid && ngControl.control?.touched && ngControl.control?.value,
      'border-base-300 focus:border-primary focus:ring-2 focus:ring-primary/20 hover:border-base-400': 
        ngControl.control && !ngControl.control.touched,
      'shadow-lg': 'focus'
    }"
  />
  @if (description && !(ngControl.control?.touched && ngControl.control?.errors)) {
    <div class="mt-2">
      <span class="text-base-content/70 text-xs italic flex items-center gap-1 transition-colors duration-200">
        <i class="fas fa-info-circle text-info text-xs"></i>
        {{description}}
      </span>
    </div>
  }
  <app-form-errors [formControl]="$any(ngControl).control" [label]="label"/>
</fieldset>